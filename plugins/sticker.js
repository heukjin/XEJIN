const a78_0x5e8cae=a78_0x157f;(function(_0x48e737,_0x56b157){const _0x2c02f1=a78_0x157f,_0x48799c=_0x48e737();while(!![]){try{const _0x480f36=parseInt(_0x2c02f1(0x142))/0x1*(-parseInt(_0x2c02f1(0x169))/0x2)+parseInt(_0x2c02f1(0x168))/0x3+-parseInt(_0x2c02f1(0x139))/0x4+parseInt(_0x2c02f1(0x15b))/0x5+parseInt(_0x2c02f1(0x13b))/0x6*(-parseInt(_0x2c02f1(0x172))/0x7)+-parseInt(_0x2c02f1(0x13f))/0x8*(-parseInt(_0x2c02f1(0x15e))/0x9)+parseInt(_0x2c02f1(0x14b))/0xa*(parseInt(_0x2c02f1(0x15c))/0xb);if(_0x480f36===_0x56b157)break;else _0x48799c['push'](_0x48799c['shift']());}catch(_0x163495){_0x48799c['push'](_0x48799c['shift']());}}}(a78_0x71a3,0xa1c4b));import a78_0x235848 from'fs';import a78_0x380d9c from'path';function a78_0x157f(_0x335630,_0x33ecb7){const _0x71a365=a78_0x71a3();return a78_0x157f=function(_0x157fd3,_0x4444a6){_0x157fd3=_0x157fd3-0x139;let _0x2b3249=_0x71a365[_0x157fd3];return _0x2b3249;},a78_0x157f(_0x335630,_0x33ecb7);}function a78_0x71a3(){const _0x38cafa=['scale=512:512:force_original_aspect_ratio=decrease,fps=15','kTQwp','readFileSync','LwYHK','join','data','-vcodec','buffer','4848396keZoGN','xbmQU','2832tdAyGa','keys','updateMediaMessage','hHvsB','24KjpIBh','video','❌\x20FFmpeg\x20failed:\x0a','4321lSYvNY','contextInfo','NMaGe','BiQhB','media','-ss','ffmpeg','https://github.com/iblamefahim','🖼️\x20Convert\x20image\x20or\x20video\x20to\x20sticker','12765010VyeruI','quotedMessage','now','ThUgf','JxoxJ','❌\x20*Failed\x20to\x20download\x20media:*\x20','from','key','close','Ydzwq','YHlER','get','image','🎀\x20XEJIN\x20Sticker\x20Maker','find','Unknown\x20error','1815795LTwaLU','22ZHGTsS','remoteJid','366174nNSlsq','https://files.catbox.moe/9xuiwp.jpg','sendMessage','-vf','unlinkSync','arraybuffer','input_','message','existsSync','logger','600756WHfwAB','82eWcjIJ','writeFileSync','sacbu','includes','sticker','vwpfk','libwebp','iJEJM','XuZtq','17598azxoGF','output_','.webp'];a78_0x71a3=function(){return _0x38cafa;};return a78_0x71a3();}import{tmpdir}from'os';import{spawn}from'child_process';import{downloadMediaMessage}from'@whiskeysockets/baileys';import a78_0x3dfa6c from'axios';export default{'name':a78_0x5e8cae(0x16d),'command':[a78_0x5e8cae(0x16d),'s'],'desc':a78_0x5e8cae(0x14a),'type':a78_0x5e8cae(0x146),async 'run'({msg:_0x1f22ae,sock:_0x3f7369}){const _0x19887d=a78_0x5e8cae,_0xbbe8f2={'yTueo':_0x19887d(0x17c),'LwYHK':_0x19887d(0x140),'JxWbu':function(_0x492589){return _0x492589();},'kTQwp':'mp4','JQTqW':'jpg','dMkBu':function(_0x58d9dc,_0x557fd6,_0x2cc7e5){return _0x58d9dc(_0x557fd6,_0x2cc7e5);},'NMaGe':function(_0x19df0f,_0x361c7e){return _0x19df0f(_0x361c7e);},'XuZtq':_0x19887d(0x15f),'YHlER':_0x19887d(0x158),'sacbu':'✨\x20Made\x20with\x20love\x20by\x20XEJIN'},_0x379fec=_0x1f22ae['key'][_0x19887d(0x15d)];await _0x3f7369[_0x19887d(0x160)](_0x379fec,{'react':{'text':'🤖','key':_0x1f22ae[_0x19887d(0x152)]}});const _0x2d09e3=_0x1f22ae[_0x19887d(0x165)]?.['extendedTextMessage']?.[_0x19887d(0x143)]?.[_0x19887d(0x14c)],_0x7de66d=_0x2d09e3?Object[_0x19887d(0x13c)](_0x2d09e3)[_0x19887d(0x159)](_0x1ab99b=>_0x1ab99b[_0x19887d(0x16c)](_0x19887d(0x157))||_0x1ab99b['includes'](_0x19887d(0x140))):Object['keys'](_0x1f22ae[_0x19887d(0x165)]||{})[_0x19887d(0x159)](_0x2854bc=>_0x2854bc[_0x19887d(0x16c)](_0x19887d(0x157))||_0x2854bc[_0x19887d(0x16c)]('video')),_0x1d5e23=_0x2d09e3?{'message':{[_0x7de66d]:_0x2d09e3[_0x7de66d]}}:{'message':{[_0x7de66d]:_0x1f22ae[_0x19887d(0x165)][_0x7de66d]}};if(!_0x7de66d||!_0x1d5e23[_0x19887d(0x165)][_0x7de66d])return _0x3f7369[_0x19887d(0x160)](_0x379fec,{'text':'❌\x20Reply\x20or\x20send\x20an\x20image/video\x20with\x20`.s`\x20to\x20convert\x20it\x20into\x20a\x20sticker.'},{'quoted':_0x1f22ae});let _0x2d3005;try{_0x2d3005=await downloadMediaMessage(_0x1d5e23,_0xbbe8f2['yTueo'],{},{'logger':_0x3f7369[_0x19887d(0x167)],'reuploadRequest':_0x3f7369[_0x19887d(0x13d)]});}catch(_0x4d14e7){return _0x3f7369[_0x19887d(0x160)](_0x379fec,{'text':_0x19887d(0x150)+(_0x4d14e7[_0x19887d(0x165)]||_0x19887d(0x15a))},{'quoted':_0x1f22ae});}const _0x1ae4b5=_0x7de66d[_0x19887d(0x16c)](_0xbbe8f2[_0x19887d(0x178)]),_0x860f=a78_0x380d9c[_0x19887d(0x179)](_0xbbe8f2['JxWbu'](tmpdir),_0x19887d(0x164)+Date[_0x19887d(0x14d)]()+'.'+(_0x1ae4b5?_0xbbe8f2[_0x19887d(0x176)]:_0xbbe8f2['JQTqW'])),_0x23249b=a78_0x380d9c['join'](_0xbbe8f2['JxWbu'](tmpdir),_0x19887d(0x173)+Date['now']()+_0x19887d(0x174));a78_0x235848[_0x19887d(0x16a)](_0x860f,_0x2d3005);try{await _0xbbe8f2['dMkBu'](convertToSticker,_0x860f,_0x23249b);const _0x32475a=a78_0x235848['readFileSync'](_0x23249b),_0x186ba2=await _0xbbe8f2[_0x19887d(0x144)](getThumbBuffer,_0xbbe8f2[_0x19887d(0x171)]);await _0x3f7369[_0x19887d(0x160)](_0x379fec,{'sticker':_0x32475a,'contextInfo':{'externalAdReply':{'title':_0xbbe8f2[_0x19887d(0x155)],'body':_0xbbe8f2[_0x19887d(0x16b)],'mediaType':0x1,'renderLargeThumbnail':!![],'jpegThumbnail':_0x186ba2,'sourceUrl':_0x19887d(0x149)}}},{'quoted':_0x1f22ae});}catch(_0x574475){await _0x3f7369[_0x19887d(0x160)](_0x379fec,{'text':_0x19887d(0x141)+(_0x574475['message']||_0x574475)},{'quoted':_0x1f22ae});}finally{if(a78_0x235848[_0x19887d(0x166)](_0x860f))a78_0x235848['unlinkSync'](_0x860f);if(a78_0x235848[_0x19887d(0x166)](_0x23249b))a78_0x235848[_0x19887d(0x162)](_0x23249b);}}};function convertToSticker(_0x2bff90,_0x5eb846){const _0x3482d6=a78_0x5e8cae,_0x33dea8={'BiQhB':_0x3482d6(0x161),'ThUgf':_0x3482d6(0x175),'vwpfk':_0x3482d6(0x147),'Kodbp':_0x3482d6(0x17b),'iJEJM':_0x3482d6(0x16f),'xbmQU':function(_0x1cc1a5,_0x56834c,_0x374220){return _0x1cc1a5(_0x56834c,_0x374220);},'JxoxJ':_0x3482d6(0x148),'Ydzwq':_0x3482d6(0x153)};return new Promise((_0x5d311a,_0xa926d8)=>{const _0x3be924=_0x3482d6,_0x11c66d=['-i',_0x2bff90,_0x33dea8[_0x3be924(0x145)],_0x33dea8[_0x3be924(0x14e)],_0x33dea8[_0x3be924(0x16e)],'0','-t','10','-y',_0x33dea8['Kodbp'],_0x33dea8[_0x3be924(0x170)],_0x5eb846];_0x33dea8[_0x3be924(0x13a)](spawn,_0x33dea8[_0x3be924(0x14f)],_0x11c66d)['on'](_0x33dea8[_0x3be924(0x154)],_0x20c413=>_0x20c413===0x0?_0x5d311a():_0xa926d8(new Error('FFmpeg\x20error')));});}async function getThumbBuffer(_0x5549ae){const _0x1ce2c9=a78_0x5e8cae,_0x27ee2b={'mtMwt':_0x1ce2c9(0x163),'hHvsB':'./media/default.jpg'};try{const _0x1e31a8=await a78_0x3dfa6c[_0x1ce2c9(0x156)](_0x5549ae,{'responseType':_0x27ee2b['mtMwt']});return Buffer[_0x1ce2c9(0x151)](_0x1e31a8[_0x1ce2c9(0x17a)]);}catch{return a78_0x235848[_0x1ce2c9(0x177)](_0x27ee2b[_0x1ce2c9(0x13e)]);}}